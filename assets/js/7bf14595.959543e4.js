"use strict";(self.webpackChunkherzarmband_blog=self.webpackChunkherzarmband_blog||[]).push([[5308],{2292:(e,a,o)=>{o.r(a),o.d(a,{assets:()=>c,contentTitle:()=>s,default:()=>u,frontMatter:()=>i,metadata:()=>t,toc:()=>d});var n=o(4848),r=o(8453);const i={sidebar_position:3},s="Software",t={id:"Informe/Software",title:"Software",description:"Este informe estar\xe1 orientado completamente al funcionamiento teorico del proyecto.",source:"@site/docs/Informe/Software.md",sourceDirName:"Informe",slug:"/Informe/Software",permalink:"/Hidroponia-Project/docs/Informe/Software",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Informe/Software.md",tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3},sidebar:"tutorialSidebar",previous:{title:"Hardware",permalink:"/Hidroponia-Project/docs/Informe/Hardware"},next:{title:"Nosotros",permalink:"/Hidroponia-Project/docs/Informe/Nosotros"}},c={},d=[{value:"Introducci\xf3n",id:"introducci\xf3n",level:2},{value:"Hidroponia",id:"hidroponia",level:2},{value:"Entorno de Trabajo",id:"entorno-de-trabajo",level:3},{value:"Embebido",id:"embebido",level:3},{value:"MyCodo",id:"mycodo",level:3},{value:"\xbfQu\xe9 es MyCodo?",id:"qu\xe9-es-mycodo",level:4},{value:"Sense Hat",id:"sense-hat",level:3},{value:"\xbfQu\xe9 es el Sense Hat?",id:"qu\xe9-es-el-sense-hat",level:4},{value:"Para un mayor entendimiento de la comunicaci\xf3n entre las partes, le adjuntamos el siguiente gr\xe1fico:",id:"para-un-mayor-entendimiento-de-la-comunicaci\xf3n-entre-las-partes-le-adjuntamos-el-siguiente-gr\xe1fico",level:4},{value:"Clientes",id:"clientes",level:2},{value:"Introducci\xf3n",id:"introducci\xf3n-1",level:3},{value:"App",id:"app",level:3},{value:"Web",id:"web",level:3},{value:"Proyecto | Workflow",id:"proyecto--workflow",level:2},{value:"Platformio | C\xf3digo",id:"platformio--c\xf3digo",level:3},{value:"Raspberry Pi | C\xf3digo",id:"raspberry-pi--c\xf3digo",level:3},{value:"Init File",id:"init-file",level:3}];function l(e){const a={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",hr:"hr",img:"img",p:"p",pre:"pre",strong:"strong",...(0,r.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a.h1,{id:"software",children:"Software"}),"\n",(0,n.jsxs)(a.p,{children:["Este informe estar\xe1 orientado completamente al funcionamiento ",(0,n.jsx)(a.em,{children:"teorico"})," del proyecto."]}),"\n",(0,n.jsx)(a.p,{children:"Nuestra idea es que este informe sirva para sentar unas bases teoricas con respecto al funcionamiento del proyecto y la comunicaci\xf3n entre las partes. S\xed por casualidad se buscase entender el c\xf3digo linea por linea, \xe9ste est\xe1 altamente documentado en los mismos scripts donde este se encuentra. Siempre se busc\xf3 tener un seguimiento y/o explicaci\xf3n de la funcionalidad de cada script dentro de los mismos scripts con comentarios."}),"\n",(0,n.jsx)(a.h2,{id:"introducci\xf3n",children:"Introducci\xf3n"}),"\n",(0,n.jsx)(a.p,{children:"Siempre hablar y/o documentar un software es dificil, y esta tampoco es la excepci\xf3n. Hablar de Software es complejo. Nunca nadie sabe por donde empezar."}),"\n",(0,n.jsx)(a.p,{children:'Por ello mismo decidimos el siguiente orden: primero comenzaremos con el c\xf3digo del circuito, no explicaremos el funcionamiento del disparo al ya haber sido explicado en el apartado de "Hardware", pero s\xed hablaremos sobre el protocolo de comunicaci\xf3n serial y la comunicaci\xf3n entre las partes.'}),"\n",(0,n.jsx)(a.p,{children:"Luego hablaremos sobre el servidor, el protocolo de comunicaci\xf3n http y la explicaci\xf3n te\xf3rica de como este logra comunicarse correctamente con la aplicaci\xf3n de celular y la aplicaci\xf3n web."}),"\n",(0,n.jsxs)(a.p,{children:["Y por \xfaltimo, -y a modo de menci\xf3n honorifica- una breve explicaci\xf3n te\xf3rica de cada archivo importante del proyecto en formato de arbol ascii junto con cada t\xe9cnologia y/o herramienta extra\xf1a utilizada. ",(0,n.jsx)(a.em,{children:"La intenci\xf3n es que qui\xe9n no est\xe9 familiarizado con este entorno de trabajo no se encuentre tan perdido."})]}),"\n",(0,n.jsx)(a.hr,{}),"\n",(0,n.jsx)(a.h2,{id:"hidroponia",children:"Hidroponia"}),"\n",(0,n.jsx)(a.h3,{id:"entorno-de-trabajo",children:"Entorno de Trabajo"}),"\n",(0,n.jsxs)(a.p,{children:["El Software del circuito est\xe1 creado con ",(0,n.jsx)(a.em,{children:"Platformio"}),'. Este es un entorno de desarrollo para embebidos altamente superior al IDE de Arduino y que permite ejecutar operaciones mediante terminal, una herramienta altamente eficiente cuando tu proyecto es programado remotamente.\nLuego como editor de c\xf3digo e IDE utilizamos Neovim con el gestor de paquetes "lazyvim" para una mayor f\xe1cilidad de uso y comodidad.']}),"\n",(0,n.jsxs)(a.p,{children:['La mayor parte de la experiencia de trabajo fue remota; utilizamos Linux con la distro de "Fedora Server" (por el bajo consumo en memoria), y le hicimos un ',(0,n.jsx)(a.a,{href:"https://github.com/Sartalan/my-linux-dotfiles",children:"rice"})," para as\xed crearnos un buen entorno de trabajo."]}),"\n",(0,n.jsxs)(a.p,{children:["En un inicio esto ",(0,n.jsx)(a.em,{children:"no"})," era del todo asi, pero a medida que el proyecto fue creciendo no hubo de otra que aprender a manejar correctamente estos entornos de trabajo."]}),"\n",(0,n.jsx)(a.h3,{id:"embebido",children:"Embebido"}),"\n",(0,n.jsxs)(a.p,{children:["Bueno... ",(0,n.jsx)(a.em,{children:"Comencemos por el Software;"})," comenzaremos con una explicaci\xf3n sencilla de la comunicaci\xf3n entre las partes:"]}),"\n",(0,n.jsx)(a.p,{children:"Existe un circuito, dicho circuito se encarga de activar/desactivar una lampara UV y una bomba de agua mientr\xe1s sim\xfaltaneamente toma la lectura de diferentes sensores. Este a su vez, recibe y env\xeda datos a una Raspberry por el protocolo de comunicaci\xf3n serial, es decir, el cable USB."}),"\n",(0,n.jsxs)(a.p,{children:["La comunicaci\xf3n serial es ",(0,n.jsx)(a.em,{children:"muy"}),' importante en nuestro proyecto; \xe9sta se encarga de, en el caso de recibir la orden, activar o desactivar la lampara UV en base al horario local de la Raspberry, y a su vez: de enviarle las lecturas de los sensores a la Raspberry. La lectura ser\xe1 "filtrada" por un script de Python para diferenciar de que sensor proviene cada m\xe1gnitud y escribir\xe1 estas lecturas en un archivo JSON cada cierta cantidad de tiempo.']}),"\n",(0,n.jsxs)(a.p,{children:["JSON es un formato de texto y extensi\xf3n de archivo creado con el f\xedn de almacenar e intercambiar datos, por ello es muy com\xfan ver que es utilizado en bases de datos no relacionales y la mayor parte de los lenguajes de programaci\xf3n tienen alg\xfan m\xf3dulo y/o biblioteca preparada para manejarlos. ",(0,n.jsx)(a.em,{children:"En nuestro caso le dimos el mismo f\xedn."})]}),"\n",(0,n.jsxs)(a.p,{children:["Nuestro archivo JSON es utilizado para ser le\xeddo cada vez que un servidor HTTP -que est\xe1 pendiente de \xe9ste- reciba una Request (o solicitud) de datos a una url concreta (en este caso '/Hidroponia'). Cuando el servidor reciba ",(0,n.jsx)(a.em,{children:"de cualquier cliente"})," una Request de datos, este leer\xe1 el archivo JSON y devolver\xe1 una Response."]}),"\n",(0,n.jsxs)(a.p,{children:["Retomando al script del servidor; nuestro servidor est\xe1 creado en Python, es un mismo script de la Raspberry y utiliza ",(0,n.jsx)(a.em,{children:"flask"}),", la cual es una biblioteca de Python para manejar servidores y, concretamente el protocolo de comunicaci\xf3n HTTP, con una mayor f\xe1cilidad."]}),"\n",(0,n.jsx)(a.p,{children:"Pero... El Servidor no es el \xfanico Software que se encarga de tomar la lectura de nuestros sensores, justamente para ello viene el siguiente apartado."}),"\n",(0,n.jsx)(a.h3,{id:"mycodo",children:"MyCodo"}),"\n",(0,n.jsx)(a.p,{children:"Sali\xe9ndonos del terreno de los servidores, nuestro proyecto incluye MyCodo, pero..."}),"\n",(0,n.jsx)(a.h4,{id:"qu\xe9-es-mycodo",children:"\xbfQu\xe9 es MyCodo?"}),"\n",(0,n.jsxs)(a.p,{children:["MyCodo es un Software Open Source creado para monitorear plantaciones de hongos y que uno puede instalar en una Raspberry, y este no es m\xe1s que una ",(0,n.jsx)(a.em,{children:"aplicaci\xf3n web"}),". MyCodo es todo un mundo y ecosistema integrado, pero lo que nos consta de importancia en este informe es que nos sirvi\xf3 como medio de ",(0,n.jsx)(a.em,{children:"monitoreo de datos"})," prev\xedo a la creaci\xf3n de nuestros software propios."]}),"\n",(0,n.jsx)(a.p,{children:'MyCodo como Software admite "Widget" que no son m\xe1s que c\xf3digo prehecho con el proposito de tomar lecturas de sensores concretos; pero en nuestro no nos sirvieron en absoluto al no ser tan comunes nuestros sensores, salvo un \xfanico Widget: El Widget que admite script\'s de Python.'}),"\n",(0,n.jsxs)(a.p,{children:["Ese Widget te permite una libre personalizaci\xf3n, teniendo la posibilidad de habilitar el script de Python que vos quieras. Fue justamente este Widget el que utilizamos; creamos un script que tomase la lectura del archivo JSON y mostrar\xe1 sus valores en pantalla, incluyendo los del ",(0,n.jsx)(a.em,{children:"Sense Hat"}),", pero... Todav\xeda no explicamos que es el Sense Hat."]}),"\n",(0,n.jsx)(a.h3,{id:"sense-hat",children:"Sense Hat"}),"\n",(0,n.jsx)(a.h4,{id:"qu\xe9-es-el-sense-hat",children:"\xbfQu\xe9 es el Sense Hat?"}),"\n",(0,n.jsxs)(a.p,{children:["Resolvamos la duda. El Sense Hat no es m\xe1s que un mod\xfalo comprado que uno puede incluir en su Raspberry Pi el cual incluye librerias para su uso. El Sense Hat es una ",(0,n.jsx)(a.em,{children:"estaci\xf3n metereol\xf3gica"}),", s\xed es que uno as\xed lo desea. Incluye una m\xfaltiple cantidad de sensores, y tamb\xeden un display LCD de 8x8 con color el cual utilizamos para mostrar figuras y/o gr\xe1ficos frikis."]}),"\n",(0,n.jsx)(a.h4,{id:"para-un-mayor-entendimiento-de-la-comunicaci\xf3n-entre-las-partes-le-adjuntamos-el-siguiente-gr\xe1fico",children:"Para un mayor entendimiento de la comunicaci\xf3n entre las partes, le adjuntamos el siguiente gr\xe1fico:"}),"\n",(0,n.jsx)(a.p,{children:(0,n.jsx)(a.img,{alt:"Diagrama",src:o(6511).A+"",width:"2485",height:"1475"})}),"\n",(0,n.jsx)(a.hr,{}),"\n",(0,n.jsx)(a.h2,{id:"clientes",children:"Clientes"}),"\n",(0,n.jsx)(a.h3,{id:"introducci\xf3n-1",children:"Introducci\xf3n"}),"\n",(0,n.jsx)(a.p,{children:'Los clientes son dos; una aplicaci\xf3n web y una aplicaci\xf3n de celular. A\xfan el c\xf3digo para estas fechas sigue incompleto; son muy verdaderamente ambiciosos. En un f\xfaturo pensamos a\xf1adir una secci\xf3n de "Anexo" justo por debajo de la secci\xf3n de "Informe Final" donde documentaremos m\xe1s en detalle el funcionamiento de cada Software.'}),"\n",(0,n.jsx)(a.p,{children:"Ahora, retomemos la teor\xeda de comunicaci\xf3n de los Software."}),"\n",(0,n.jsx)(a.p,{children:'Ambos Software funcionan como "clientes" dentro de la comunicaci\xf3n HTTP. Sus c\xf3digos deben -y funcionan- de alguna forma para incluir el n\xfamero de IP y el "/Hidroponia" donde solicitar\xe1n (Request) los datos que estos necesitan para operar correctamente.'}),"\n",(0,n.jsx)(a.p,{children:"Ambos tambi\xe9n recibir\xe1n una respuesta (Response) que le traer\xe1 los datos que ellos solicitar\xf3n."}),"\n",(0,n.jsxs)(a.p,{children:["Para la fecha ambos Software funcionan como ",(0,n.jsx)(a.em,{children:"monitoreo de datos"}),". Nunca se esper\xf3 una interacci\xf3n real con el circuito -al no existir \xe9ste a\xfan-, pero puede que en un f\xfaturo se le haga un \xc1nexo para ello."]}),"\n",(0,n.jsx)(a.h3,{id:"app",children:"App"}),"\n",(0,n.jsxs)(a.p,{children:["La Aplicaci\xf3n de celular est\xe1 creada con ",(0,n.jsx)(a.strong,{children:"React Native"}),"."]}),"\n",(0,n.jsx)(a.p,{children:"React Native es un Framework creado por Meta -Facebook en su tiempo- creado como alternativa multiplataforma para crear aplicaciones de celular con una sint\xe1xis muy similar a la creaci\xf3n de sitios web. Todo ello con el proposito de que los trabajadores de Meta tuvieran una mayor f\xe1cilidad para adaptarse a este nuevo desafio."}),"\n",(0,n.jsxs)(a.p,{children:["En resumen: el proyecto ",(0,n.jsx)(a.em,{children:"fracas\xf3 estrepitosamente"})," y Meta decidi\xf3 convertirlo en un proyecto Open Source, a la comunidad le encant\xf3, y decidieron continuarlo. Actualmente es de las t\xe9cnologias con mayor salida laboral."]}),"\n",(0,n.jsxs)(a.p,{children:["S\xed se quiere una explicaci\xf3n del c\xf3digo m\xe1s en detalle, \xe9ste se encuentra ",(0,n.jsx)(a.a,{href:"https://github.com/Sartalan/Hidroponia-Project/tree/App",children:"aqu\xed"}),"."]}),"\n",(0,n.jsx)(a.p,{children:"No hablaremos mucho m\xe1s sobre el tema al no ser el f\xedn del informe."}),"\n",(0,n.jsx)(a.h3,{id:"web",children:"Web"}),"\n",(0,n.jsxs)(a.p,{children:["La aplicaci\xf3n Web est\xe1 creada con ",(0,n.jsx)(a.em,{children:"React"}),"."]}),"\n",(0,n.jsxs)(a.p,{children:['React es una biblioteca utilizada en la creaci\xf3n de p\xe1ginas web con el proposito de reutilizar c\xf3digo como "Componentes". React Native est\xe1 basado en React, obviamente. Tienen una sint\xe1xis muy similar y, el flujo de c\xf3digo al igual que su renderizado son altamente similares. No hay mucho m\xe1s que decir, el c\xf3digo de la aplicaci\xf3n web est\xe1 ',(0,n.jsx)(a.a,{href:"https://github.com/Sartalan/Hidroponia-Project/tree/Web",children:"aqu\xed"}),"."]}),"\n",(0,n.jsx)(a.h2,{id:"proyecto--workflow",children:"Proyecto | Workflow"}),"\n",(0,n.jsx)(a.hr,{}),"\n",(0,n.jsx)(a.h3,{id:"platformio--c\xf3digo",children:"Platformio | C\xf3digo"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-text",children:"Code/\n\u2514\u2500\u2500 Embedded Code\n\xa0\xa0  \u251c\u2500\u2500 include\n\xa0\xa0  \u2502\xa0\xa0 \u2514\u2500\u2500 README\n\xa0\xa0  \u251c\u2500\u2500 lib\n\xa0\xa0  \u2502\xa0\xa0 \u2514\u2500\u2500 README\n\xa0\xa0  \u251c\u2500\u2500 platformio.ini\n\xa0\xa0  \u251c\u2500\u2500 src\n\xa0\xa0  \u2502\xa0\xa0 \u2514\u2500\u2500 main.cpp\n\xa0\xa0  \u2514\u2500\u2500 test\n\xa0\xa0     \u2514\u2500\u2500 README\n"})}),"\n",(0,n.jsx)(a.h3,{id:"raspberry-pi--c\xf3digo",children:"Raspberry Pi | C\xf3digo"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-text",children:"Code/\n\u2514\u2500\u2500 Raspberry Pi Code\n    \u251c\u2500\u2500 app.py\n    \u251c\u2500\u2500 app.py.save\n    \u251c\u2500\u2500 __pycache__\n    \u2502\xa0\xa0 \u251c\u2500\u2500 app.cpython-311.pyc\n    \u2502\xa0\xa0 \u251c\u2500\u2500 app.cpython-312.pyc\n    \u2502\xa0\xa0 \u2514\u2500\u2500 app.cpython-39.pyc\n    \u2514\u2500\u2500 src\n        \u251c\u2500\u2500 data\n        \u2502\xa0\xa0 \u251c\u2500\u2500 hidroponia_uno.json\n        \u2502\xa0\xa0 \u2514\u2500\u2500 weather.json\n        \u251c\u2500\u2500 mycodo_test.py\n        \u251c\u2500\u2500 __pycache__\n        \u2502\xa0\xa0 \u2514\u2500\u2500 serial.cpython-312.pyc\n        \u251c\u2500\u2500 serial_communication.py\n        \u2514\u2500\u2500 weather.py\n"})}),"\n",(0,n.jsx)(a.h3,{id:"init-file",children:"Init File"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-text",children:"Code/\n\u251c\u2500\u2500 Embedded Code/\n\u2502\n\u251c\u2500\u2500 init.sh\n\u2502\n\u2514\u2500\u2500 Raspberry Pi Code/\n"})})]})}function u(e={}){const{wrapper:a}={...(0,r.R)(),...e.components};return a?(0,n.jsx)(a,{...e,children:(0,n.jsx)(l,{...e})}):l(e)}},6511:(e,a,o)=>{o.d(a,{A:()=>n});const n=o.p+"assets/images/DiagramaFinal-15616d79b20b85e47649645dd7e0d11f.png"},8453:(e,a,o)=>{o.d(a,{R:()=>s,x:()=>t});var n=o(6540);const r={},i=n.createContext(r);function s(e){const a=n.useContext(i);return n.useMemo((function(){return"function"==typeof e?e(a):{...a,...e}}),[a,e])}function t(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:s(e.components),n.createElement(i.Provider,{value:a},e.children)}}}]);