<!doctype html>
<html lang="es" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-Informe/Hardware" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.2.1">
<title data-rh="true">Hardware | Hidroponia</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://github.com/Hidroponia-Project/img/icon.jpg"><meta data-rh="true" name="twitter:image" content="https://github.com/Hidroponia-Project/img/icon.jpg"><meta data-rh="true" property="og:url" content="https://github.com/Hidroponia-Project/docs/Informe/Hardware"><meta data-rh="true" property="og:locale" content="es"><meta data-rh="true" name="docusaurus_locale" content="es"><meta data-rh="true" name="docsearch:language" content="es"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Hardware | Hidroponia"><meta data-rh="true" name="description" content="Introducción"><meta data-rh="true" property="og:description" content="Introducción"><link data-rh="true" rel="icon" href="/Hidroponia-Project/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://github.com/Hidroponia-Project/docs/Informe/Hardware"><link data-rh="true" rel="alternate" href="https://github.com/Hidroponia-Project/docs/Informe/Hardware" hreflang="es"><link data-rh="true" rel="alternate" href="https://github.com/Hidroponia-Project/docs/Informe/Hardware" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/Hidroponia-Project/blog/rss.xml" title="Hidroponia RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/Hidroponia-Project/blog/atom.xml" title="Hidroponia Atom Feed"><link rel="stylesheet" href="/Hidroponia-Project/assets/css/styles.96c95f91.css">
<script src="/Hidroponia-Project/assets/js/runtime~main.584724ce.js" defer="defer"></script>
<script src="/Hidroponia-Project/assets/js/main.a2191666.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"dark")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Saltar al contenido principal"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Saltar al contenido principal</a></div><nav aria-label="Principal" class="navbar navbar--fixed-top navbar--dark"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Alternar barra lateral" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/Hidroponia-Project/"><b class="navbar__title text--truncate">Hidroponia</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/Hidroponia-Project/docs/intro">Proyecto</a><a class="navbar__item navbar__link" href="/Hidroponia-Project/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/Sartalan/Hidroponia-Project" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS darkNavbarColorModeToggle_X3D1" type="button" disabled="" title="Cambiar entre modo oscuro y claro (actualmente modo oscuro)" aria-label="Cambiar entre modo oscuro y claro (actualmente modo oscuro)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Volver al principio" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Barra lateral de Documentos" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Hidroponia-Project/docs/intro">Inicio</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/Hidroponia-Project/docs/category/informe-final">Informe Final</a><button aria-label="Colapsar categoría &#x27;Informe Final&#x27; de barra lateral" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Hidroponia-Project/docs/Informe/Hidroponia">Hidroponia</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/Hidroponia-Project/docs/Informe/Hardware">Hardware</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Hidroponia-Project/docs/Informe/Software">Software</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Hidroponia-Project/docs/Informe/Nosotros">Nosotros</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Hidroponia-Project/docs/Informe/Precios">Precios</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Hidroponia-Project/docs/Anexo I PID">Anexo I PID</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Página de Inicio" class="breadcrumbs__link" href="/Hidroponia-Project/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/Hidroponia-Project/docs/category/informe-final"><span itemprop="name">Informe Final</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Hardware</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">En esta página</button></div><div class="theme-doc-markdown markdown"><header><h1>Hardware</h1></header><h3 class="anchor anchorWithStickyNavbar_LWe7" id="introducción">Introducción<a href="#introducción" class="hash-link" aria-label="Enlace directo al Introducción" title="Enlace directo al Introducción">​</a></h3>
<p>En este apartado hablaremos del disparo; la carácteristica más interesante de nuestro proyecto. El &quot;Disparo&quot; es la capacidad que le dimos al circuito para, mediante Software, poder &quot;cortar&quot; la onda senoidal y con ello variar el valor del voltaje de la corriente alterna.</p>
<p>Aún no hablaremos de su accionamiento &quot;real&quot; en el proyecto. Esto es una explicación teórica con respecto al como nosotros logramos solucionar un problema.</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="explicación-básica">Explicación básica<a href="#explicación-básica" class="hash-link" aria-label="Enlace directo al Explicación básica" title="Enlace directo al Explicación básica">​</a></h3>
<p>En primeras antes de hablar del código debemos de hablar del circuito; consta de dos partes: una de monitoreo y otra de control, en la primera se busca tener una lectura constante de la onda senoidal para determinar sí esta cruza por cero, y en la segunda se busca &quot;disparar&quot; hacía la onda senoidal para cortarla, y poder así <strong>regular su intensidad</strong></p>
<p>¿Cómo la parte de control logra esto?</p>
<p>Para poder determinar cuando disparar o no por el código, básicamente se la divide a la onda senoidal en varias partes.
Primero calculando su periodo, utilizando para ello la cuenta:</p>
<p><img decoding="async" loading="lazy" alt="Calculo Uno" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAF8AAAAkCAQAAABFoC58AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAAAJcEhZcwAADsQAAA7EAZUrDhsAAAAHdElNRQfoCBMQMDM4r3RqAAACPklEQVRYw+2X0XWiQBSGPz0UwFoCdIDZDkwHpgXoIKmBdKAdbEwHUkKwA0wFi3Rw94GRADM5jCgLOcd/Xq5z54z/jHDvJ0JjuLKSVLzW7GSHQ10BK44E/BjNpD3jcsLnOLYxO83HNnC3/3N1t3+331vO9VsMKK2qM+uyvwDcsX2bzepq2veICICYA384jO3e4nxy/R7fa81vMvxvr0LPuzwQ89To+qF6GrYU2g4DAtVK9irKjBCo5wN5lrVIY/VOQkGQVGJ9jyHtp7JWUSwb67zbsL+WVEWhBF3EeUu5BNWP/Zf1xflSMe8q2prSw9n3gFzFBd7F+fOqjGcKfPYk1WwI5Cx462d/Y/y6XeOGFlDdbg64rRevKw8QAI88AZARqQOEuLwCe3IHm9LTrr/RhcddXJE/16CEmCUASx5IOBBxnDOzGH2Utz4XF+bPc1kVn/8FbvBIOeENyTxHqB4x04PRlT+v0XXgF498sOv76u6MWLHntXFzh2qVz5u2uitfKsGvjli2tpQNWxI++OQ/t61A9rWabm5rnkitwgeSqeikZlNxVUcIZXBo8ChYslE3t2LHS60+tfMlc61IaswVEJHh1/bwyFkA2y/maXNFF630V2huQD1l5IouWuk/3AoUbjLMXNFFK/1HeNv3y0HnCjsa6af8+i3qctC5wo5G+un9+i2a9nWusKGRiajsunWuaKqLVka3X9DmChsamYjmBq6woZGJaI7OFXY0Mg0ZuWK4tnXjUUJDmyt0Gpmo/gEroldOb6L+BgAAACJ0RVh0Y29tbWVudABSZW5kZXJlZCBieSBRdWlja0xhVGVYLmNvbSBJ0LYAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjQtMDgtMTlUMTY6NDg6NTErMDk6MDAOOmptAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDI0LTA4LTE5VDE2OjQ4OjUxKzA5OjAwf2fS0QAAAABJRU5ErkJggg==" width="95" height="36" class="img_ev3q"></p>
<ul>
<li>Luego, se la divide en 360 partes para así tener un ciclo entero.</li>
</ul>
<p><img decoding="async" loading="lazy" alt="Calculo Dos" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAI0AAAAkCAQAAAAeRHEIAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAAAJcEhZcwAADsQAAA7EAZUrDhsAAAAHdElNRQfoCBMQLxq3R+KYAAADv0lEQVRo3t2Z73GjOBiHn3hcgNbXAXSAsxUcdEBmK1jcAZ6r4IZ0QK6CXbsDsx3E6QB3sI47eO8DQuGPAI0nczb30xdBfmbQyyvpfaIHAYj5SonPD96wq+9QPJLxxKnhSlAAvHBh/hIklIMgCFKKp3vt1ncEkkos0vLvJBEEOUpmfcrMWjWUWF9mklttdodqhSaWo+4lEtx6WJ/RligCk/6/iS2JNe0AyNjr3sutZ8LnaIkHnPXVBc/imXZUrpKUCz4HCnM3Ac6s+Dm/1WfJCsxrnwHVG8S0AwIg4gmAko0OToLiGThwNjk1Gy16QRjXmKPeqwoy3VvzjQDYzC8wsDBTpdal55l2VPdK0w90L8fjyPvgJLxHxaSEhLDgBObVlXXY0w5a1c2H3vhCxCu7W4/XWQlfeeZEBgsuvOlCDXx+WuzTDoACX/eULguPJEChV6A5SJGxBU78yUDJF8ihVczZi0JPpFHBBFLq3ru+exSlK57k1jWKYwullFhiycQTHjQoeFxYk+vvHbJj26pPug6PDQEhBW8GHgI2lPiNp3icWTGfSichx+eE4ohfhcZuu58BhURsG2+mgHFS6xNelwJTswBU2lEQ8w9fABD8odRSBg3uoZUNKnMhtT7hTXNitUTUi4KIN2S6p9UhlYMJgzuptQlvmhNrn6pDtBxIyDP3ooCCyFxdR2puFAjwxF+UrIkYDM39VK8hz40rG6nFrFiT4eGxZmN5hhsFApw+1rQlt1JufcVdJxvSVmBspBZyYa/31ILM7I9NuVBgT0tk2vQpeuhcbxx+E1iG2SS1NZi9K6BA8ffg/ymbYXLSsvfK96T2ZLKTWhWYiD1w6fhruVCgJTT3qxRfM7zHiox8gNQA4kbd01dFgdWvnSbTbUOzM1zW1KHx3T96IYUeepfUFAnPBHh6UU6teeNGgV3dvGpxK/nqWqRLaomUgqRSihIkGSQ8t5Kv1R7+q1X4aoU8kXBirydUm9Q8thx5Bb5R8jpCeF0KnNRUaFIAotam2mWY6VOseWo0qXKdyJ6IQYcuw1yRqvNoi4nIPQLVCu/rDPF0/uT8ACAj19796C4xPzlFMBSRUGdGm3eV+Uu1GN78W39ec9u8NxR6c+wyjDudzE7ToUmIQLNvn2GuopN5aGqtgRe+c+JgSqb+aVMtZzqZh6ZDAxe2PPILG8NcRSfz0FhoFO+6roETAbbTJpczqplqLDSrxmBrOOsyzHV0Mg+NbmC5PkkKzBbdP23635Z806DwB7+J2BoI6J42XUEn89C/NCxFS1obziAAAAAidEVYdGNvbW1lbnQAUmVuZGVyZWQgYnkgUXVpY2tMYVRlWC5jb20gSdC2AAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDI0LTA4LTE5VDE2OjQ3OjI2KzA5OjAwMFMGdwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyNC0wOC0xOVQxNjo0NzoyNiswOTowMEEOvssAAAAASUVORK5CYII=" width="141" height="36" class="img_ev3q"></p>
<ul>
<li>Una vez tenidos estos datos podemos asumir diversas cosas:</li>
</ul>
<ol>
<li>Un semiciclo de nuestra onda es equivalente a: 360/2.</li>
<li>Cada 46μs recorremos 1° de nuestra onda.</li>
<li>46μs x (360/2) Es equivalente al recorrido <strong>total</strong> de tiempo que conlleva un solo semiciclo.</li>
</ol>
<p>Ahora sí, comencemos con el código.</p>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token macro property directive-hash">#</span><span class="token macro property directive keyword" style="color:rgb(189, 147, 249);font-style:italic">include</span><span class="token macro property"> </span><span class="token macro property string" style="color:rgb(255, 121, 198)">&lt;TimerOne.h&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">int</span><span class="token plain"> GradoElectrico </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">GradoZero</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      GradoElectrico </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">Disparo</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      GradoElectrico</span><span class="token operator">++</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token comment" style="color:rgb(98, 114, 164)">// Resto de instrucciones...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token comment" style="color:rgb(98, 114, 164)">// (Instrucciones de cuando disparar)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">setup</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token function" style="color:rgb(80, 250, 123)">attachInterrupt</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> GradoZero</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> CHANGE</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      Timer1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">initialize</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">46</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      Timer1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">attachInterrupt</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">Disparo</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">loop</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">// Resto de instrucciones...}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Básicamente aplicamos todo lo aprendido:
Comencemos con la función Setup:</p>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">attachInterrupt</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">GradoZero</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">CHANGE</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Esta linea de código pertenece a la libreria de TimerOne, y se encarga de inicializar una entrada de datos en el pin 0 que por default es el 2 y, que cada vez que cambie de HIGH a LOW o viceversa, ejecuta la función GradoZero(), la cual reestablece los valores de la variable GradoElectrico.</p>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">    Timer1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">initialize</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">46</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Le indicamos al programa que inicialice un temporizador de 46μs.</p>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">    Timer1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">attachInterrupt</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">Disparo</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Cada vez que finaliza el temporizador de 46μs se ejecuta la función Disparo()</p>
<p>En resumidas cuentas, el código se encarga de ejecutar un cronometro que cada 46μs ejecuta una función, la cuál aumentará una variable int; pero, recién llegado a un valor LOW en la onda, es decir 180° o, 46μs x 180° de tiempo; el cronometro volverá a reiniciarse y la variable de grados también lo hará junto con ella.</p>
<p>Es decir, este simple código tiene la posibilidad de manipular por completo un ciclo de nuestra onda senoidal partiendola a ésta en 180° al detectar el cruce por cero antes de terminar el ciclo completo. Pudiendo con ello ejecutar scripts de código que tan solo tengan que variar entre los valores de 1 - 180 de la variable int de GradoElectrico y, así, determinando cuando disparar dentro del semiciclo.</p>
<ul>
<li>Nota: Esta es una versión <em>muy</em> básica del accionamiento del disparo, pero sirve.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ejemplo">Ejemplo<a href="#ejemplo" class="hash-link" aria-label="Enlace directo al Ejemplo" title="Enlace directo al Ejemplo">​</a></h3>
<p><img decoding="async" loading="lazy" alt="Gif Simulación" src="/Hidroponia-Project/assets/images/Video-Simulacion-1c4539cf24f67ac4ea4d9706b146f152.gif" width="1042" height="552" class="img_ev3q"></p>
<p>En este ejemplo estamos viendo la variación que puede lograr un disparo en la onda senoidal simulado en Proteus.
Para esta simulación se utilizo el valor mapeado en código de un potenciometro con respecto a los 180° del semiciclo de la onda senoidal.</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="aplicación-real">Aplicación real<a href="#aplicación-real" class="hash-link" aria-label="Enlace directo al Aplicación real" title="Enlace directo al Aplicación real">​</a></h3>
<p>Retomando el informe de nuestro proyecto, nuestro circuito real no terminó por utilizar como carácteristica
la regulación de voltaje en su aplicación. Esto ocurrió por diversos cambios a lo largo del proyecto que, de manera repentina, nos forzó a terminar por usar los disparos para prender cosas sencillas, de las que realmente con el uso de
relés ya se podría haber solucionado sin necesidad de un circuito tan complejo. De igual forma no es nada desmotivante; la posibilidad de usarlo sigue, y por suerte el problema está solucionado.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="explicación-más-a-fondo">Explicación más a fondo<a href="#explicación-más-a-fondo" class="hash-link" aria-label="Enlace directo al Explicación más a fondo" title="Enlace directo al Explicación más a fondo">​</a></h3>
<p>El circuito consta de dos partes -como se dijo en la introducción- una de monitoreo y otra de disparo.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="monitoreo">Monitoreo<a href="#monitoreo" class="hash-link" aria-label="Enlace directo al Monitoreo" title="Enlace directo al Monitoreo">​</a></h4>
<ul>
<li>
<p>La de monitoreo tiene como único fin captar el cruce por cero del semiciclo. Cada vez que dicho cambio se realice,
un optoacoplador (4N25) se encargará de enviar un cambio de estado lógico con la intención de accionar un pin de interrupción del microcontrolador. En el caso del Arduino Nano solo existen dos: el pin de interrupción 2 y el pin de interrupción 3. En nuestro circuito final terminamos por utilizar el pin 3.</p>
<p>La carácteristica más importante que tiene una interrupción en el uso de un microcontrolador es que, uno tiene la posibilidad de que todo el flujo de trabajo del código opere con normalidad, pero apenas haya un cambio lógico en X pin, se interrumpa el funcionamiento de <em>todo</em> el código con tal de priorizar una nueva función que actuará cuando esta interrupción sea dada. En el caso de nuestro código la nueva función solo resetearia el valor de grado eléctrico, para luego hasta la siguiente interrupción se siga teniendo un correcto seguimiento de la onda senoidal.</p>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="disparo">Disparo<a href="#disparo" class="hash-link" aria-label="Enlace directo al Disparo" title="Enlace directo al Disparo">​</a></h4>
<ul>
<li>
<p>La de disparo se encarga únicamente de accionar un TRIAC que cerrará un circuito AC en base a la señal lógica que reciba de un optoacoplador (MOC3021). Este optoacoplador será accionado por un pin del Arduino.</p>
<p>La sección de disparo también tiene muchas integraciones de seguridad extra que fuimos incorporando a medida que pasaba el tiempo y nuestro circuito seguía estallando.</p>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="conexionado-básico">Conexionado básico<a href="#conexionado-básico" class="hash-link" aria-label="Enlace directo al Conexionado básico" title="Enlace directo al Conexionado básico">​</a></h3>
<p><img decoding="async" loading="lazy" alt="Circuito básico" src="/Hidroponia-Project/assets/images/Prototipo-Simulacion-726f51f402393b2ff71e79d6bc6363ee.jpeg" width="591" height="416" class="img_ev3q"></p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Informe/Hardware.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Editar esta página</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Página del documento"><a class="pagination-nav__link pagination-nav__link--prev" href="/Hidroponia-Project/docs/Informe/Hidroponia"><div class="pagination-nav__sublabel">Anterior</div><div class="pagination-nav__label">Hidroponia</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/Hidroponia-Project/docs/Informe/Software"><div class="pagination-nav__sublabel">Siguiente</div><div class="pagination-nav__label">Software</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#introducción" class="table-of-contents__link toc-highlight">Introducción</a></li><li><a href="#explicación-básica" class="table-of-contents__link toc-highlight">Explicación básica</a></li><li><a href="#ejemplo" class="table-of-contents__link toc-highlight">Ejemplo</a></li><li><a href="#aplicación-real" class="table-of-contents__link toc-highlight">Aplicación real</a></li><li><a href="#explicación-más-a-fondo" class="table-of-contents__link toc-highlight">Explicación más a fondo</a></li><li><a href="#conexionado-básico" class="table-of-contents__link toc-highlight">Conexionado básico</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 Our Hidroponia Project by Wolfsrudel.</div></div></div></footer></div>
</body>
</html>